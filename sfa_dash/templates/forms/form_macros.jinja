{% macro input(label, type, name, help_text=None, form_data=None, required=False, class='') %}
{% set extra_attr = '' %}

{% if type == 'number' %}
{% set extra_attr = extra_attr + 'step=any' %}
{% endif %}

{% if required %}
{% set extra_attr = extra_attr + ' required' %}
{% endif %}

<label>{{ label }}</label>
<input type="{{ type }}" class="form-control {{ class }} {{ name }}-field" {{ extra_attr }}  name="{{ name }}" {% if form_data is not none %} value="{{ form_data.get(name,'') }}"{% endif %}>
{% if help_text is not none %}<span class="form-text text-muted help-text">{{ help_text }}</span>{% endif %}
{% endmacro %}

{% macro select(label, name, options, help_text, required=False, form_data=None) %}
<label>{{ label }}</label>
<select class="form-control {{ name }}-field" name="{{ name }}"{% if required %} required {% endif %}>
  {% for option, option_label in options.items() %}
  <option value="{{ option }}" {% if (form_data is not none) and (option == form_data.get(name))  %} selected="selected"{% endif %}>{{ option_label }}</option>
  {% endfor %}
</select>
{% if help_text is not none %}<span class="form-text text-muted help-text-top">{{ help_text }}</span>{% endif %}
{% endmacro %}

{% macro radio(label, name, options, required=False) %}
<label>{{ label }}</label>
{% for option, option_label in options.items() %}
<input name="{{ name }}" type="radio" value="{{ option }}">{{ option_label }}</label>
{% endfor %}
{% endmacro %}
